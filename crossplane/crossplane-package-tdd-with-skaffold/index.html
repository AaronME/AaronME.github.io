<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TDD For Crossplane Packages with Skaffold - AaronEaton.com</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="https://aaroneaton.com/favicon.png">

  
  
  <link rel="stylesheet" href="/css/style.min.b5edc2670fbb2e1948c6a17c1870576e18aad63dd2c4e445432feef7238f4ce4.css">
  

  
    <meta name="description" content="Create a Test-Driven Development Environment for Crossplane Packages with https://skaffold.dev"/>
    <meta property="og:title" content="TDD For Crossplane Packages with Skaffold"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://aaroneaton.com/crossplane/crossplane-package-tdd-with-skaffold/"/>
    <meta property="og:image" content="https://aaroneaton.com/images/crossplane/crossplane-packages-tdd-with-skaffold/tdd-with-skaffold.png"/>
    <meta property="og:description" content="Create a Test-Driven Development Environment for Crossplane Packages with https://skaffold.dev"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@aaron_eaton"/>
    <meta name="twitter:creator" content="@aaron_eaton"/>
  

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet"> 
</head>




<body class='page frame page-default-single'>
  <div id="wrapper" class="wrapper">
    <div class='header'>
  <a class="header-logo" href="https://aaroneaton.com/">AaronEaton.com</a>
  <div class="menu-main">
    <ul>
        
        
            <li class="menu-item-about">
                <a href="/pages/about/">About</a>
            </li>
        
            <li class="menu-item-crossplane">
                <a href="/crossplane/">Crossplane</a>
            </li>
        
    </ul>
  </div>
</div>
    
<div class="intro">
  <h1>TDD For Crossplane Packages with Skaffold<span class="dot">.</span></h1>
  
  <img src="/images/crossplane/crossplane-packages-tdd-with-skaffold/tdd-with-skaffold.png" />
  
</div>

<div class="content">
  <h2 id="crossplane-package-development">Crossplane Package Development</h2>
<p>Crossplane Packages, and specifically the Composition Engine, allow Platform
Teams to publish Composite Resources for use by Development Teams or Platform
Operators. The end result of a Crossplane Composition is always going to be a
set of valid YAML documents which define Crossplane Managed Resources.</p>
<p>Because the output of our compositions is this declarative set of YAML
documents, we have the ability to <a href="https://aaroneaton.com/crossplane/crossplane-package-testing-with-kuttl/">write
tests</a>
for our configurations. And once we can write tests, we can do test-driven
development.</p>
<h3 id="write-the-infrastructure-test-first">Write the <del>Infrastructure</del> Test First</h3>
<p>The Test-Driven workflow for creating new Composite Resources looks like this:</p>
<ol>
<li>Create the POC Architecture as Managed Resources, deployed via Crossplane.</li>
<li>Translate the Managed Resource manifests into tests (using a framework such
as <a href="https://kuttl.dev/">kuttl</a>).</li>
<li>Create the XRD and Compositions for our new Composite Resource.</li>
<li>Create an Example manifest for the new Composite Resource.</li>
<li>Iteratively build out the new Composite Resource, using our tests to validate
as we write.</li>
<li>Once the Composite Resource is finalized, commit the tests, package, and
example to source control.</li>
</ol>
<p>This article demonstrates how <a href="https://skaffold.dev">skaffold</a> can speed up the
iterative development loop (step 5) and provide real-time feedback when writing
Crossplane Packages. While skaffold&rsquo;s primary purpose is to support building
containers and testing code its deploy functions are just as useful for working
with Packages.</p>
<h2 id="lets-get-started">Let&rsquo;s get Started!</h2>
<p>You can find a complete example of this tutorial in the <a href="https://github.com/AaronME/ATourOfCrossplane/tree/main/crossplane-package-tdd-with-skaffold">A Tour of
Crossplane</a>
repo.</p>
<h3 id="prerequisites">Prerequisites</h3>
<p>We&rsquo;re going to assume you have the following installed:</p>
<ul>
<li><a href="https://kind.sigs.k8s.io/docs/user/quick-start/#installation">kind</a></li>
<li><a href="https://helm.sh/docs/intro/install/">helm</a></li>
<li><a href="https://kubernetes.io/docs/tasks/tools/">kubectl</a></li>
<li><a href="https://kuttl.dev">kuttl</a></li>
</ul>
<h4 id="installing-skaffold">Installing skaffold</h4>
<p>I am running Mac OS X, so I installed kuttl using homebrew:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">brew install skaffold
</code></pre></div><p>You can find installation instructions for other platforms on
<a href="https://skaffold.dev/docs/install/">skaffold&rsquo;s install page</a>.</p>
<h3 id="step-one-launch-kind">Step One: Launch Kind</h3>
<p>We&rsquo;re going to quickly spin-up a cluster for local development using kind. You
can call it anything, but I tend to call mine &ldquo;crossplane-tour.&rdquo;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ kind create cluster --name crossplane-tour
Creating cluster <span class="s2">&#34;crossplane-tour&#34;</span> ...
 ‚úì Ensuring node image <span class="o">(</span>kindest/node:v1.21.1<span class="o">)</span> üñº
 ‚úì Preparing nodes üì¶
 ‚úì Writing configuration üìú
 ‚úì Starting control-plane üïπÔ∏è
 ‚úì Installing CNI üîå
 ‚úì Installing StorageClass üíæ
 ‚úì Waiting ‚â§ 5m0s <span class="k">for</span> control-plane <span class="o">=</span> Ready ‚è≥
 ‚Ä¢ Ready after 4m2s üíö
</code></pre></div><p>Now we&rsquo;re ready to set up skaffold and start our dev loop.</p>
<h3 id="step-two-use-skaffold-to-helm-install-crossplane-and-provider">Step Two: Use Skaffold to Helm Install Crossplane and Provider</h3>
<p>We need Crossplane running on the cluster to provision Composite Resources and
render Compositions. Skaffold supports running helm install in its <strong>deploy</strong>
configuration. Let&rsquo;s initiate our Skaffold project by creating the skaffold
<strong>Config</strong> file &ndash; called <strong>skaffold.yaml</strong> &ndash; at the root of our package repo.</p>
<p><strong>skaffold.yaml</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">skaffold/v2beta24</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Config</span><span class="w">
</span><span class="w"></span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">helm</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">releases</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">universal-crossplane</span><span class="w">
</span><span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l">https://charts.upbound.io/stable/</span><span class="w">
</span><span class="w">        </span><span class="nt">remoteChart</span><span class="p">:</span><span class="w"> </span><span class="l">universal-crossplane</span><span class="w">
</span><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">upbound-system</span><span class="w">
</span><span class="w">        </span><span class="nt">createNamespace</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">        </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="m">1.5.1</span>-<span class="l">up.1</span><span class="w">
</span><span class="w">        </span><span class="nt">wait</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></code></pre></div><p>We use <strong>universal-crossplane</strong> at Upbound, but you can use vanilla
<strong>crossplane</strong>. They will both work for this demo.</p>
<p>For this demo we need
<a href="https://github.com/crossplane/provider-aws">provider-aws</a>. The helm chart for
crossplane supports passing in a list of provider packages during install. We&rsquo;ll
do this using a values file.</p>
<p>Using a values file will make it easier to keep the test dependencies up to date
with the actual dependencies, declared in a <strong>crossplane.yaml</strong>. We&rsquo;ll keep the
values file under the <strong>tests</strong> folder.</p>
<p><strong>tests/uxp-values.yaml</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">provider</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">packages</span><span class="p">:</span><span class="w">
</span><span class="w">    </span>- <span class="l">crossplane/provider-aws:v0.19.0</span><span class="w">
</span></code></pre></div><p>We want to wait for the provider to be installed and ready before we attempt
to install any compositions. Skaffold supports both pre- and post-deploy
<strong>hooks</strong>. These hooks will run before and after <em>all</em> helm releases are
installed. Skaffold does not currently support inserting hooks between helm
releases.</p>
<p><strong>skaffold.yaml</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">skaffold/v2beta24</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Config</span><span class="w">
</span><span class="w"></span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">helm</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">hooks</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">after</span><span class="p">:</span><span class="w">
</span><span class="w">        </span>- <span class="nt">host</span><span class="p">:</span><span class="w">
</span><span class="w">            </span><span class="nt">command</span><span class="p">:</span><span class="w">
</span><span class="w">              </span><span class="p">[</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;sh&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;-c&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;kubectl wait --for condition=healthy --timeout=300s provider/crossplane-provider-aws&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">              </span><span class="p">]</span><span class="w">
</span><span class="w">    </span><span class="nt">releases</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">universal-crossplane</span><span class="w">
</span><span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l">https://charts.upbound.io/stable/</span><span class="w">
</span><span class="w">        </span><span class="nt">remoteChart</span><span class="p">:</span><span class="w"> </span><span class="l">universal-crossplane</span><span class="w">
</span><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">upbound-system</span><span class="w">
</span><span class="w">        </span><span class="nt">createNamespace</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">        </span><span class="nt">valuesFiles</span><span class="p">:</span><span class="w">
</span><span class="w">          </span>- <span class="l">tests/uxp-values.yaml</span><span class="w">
</span><span class="w">        </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="m">1.5.1</span>-<span class="l">up.1</span><span class="w">
</span><span class="w">        </span><span class="nt">wait</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></code></pre></div><p>With the above, we are ready to run <strong>skaffold dev</strong> for the first time.</p>
<h3 id="step-three-skaffold-dev">Step Three: Skaffold Dev</h3>
<p>The key to our development environment is the <a href="https://skaffold.dev/docs/references/cli/#skaffold-dev">skaffold
dev</a> command. This
command runs our pipeline in a loop, watching our local files and re-running the
pipeline whenever changes are saved to disk.</p>
<p>We can see it in action throughout the rest of the demo by starting it now.</p>
<p>One note: we&rsquo;re going to run with the flag <strong>&ndash;cleanup=false</strong>. This will ensure
our resources are not deleted if we hit an error. I have defaulted to using this
flag, as my cleanup amounts to deleting the kind cluster. There is no way to set
this in <strong>skaffold.yaml</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">$ skaffold dev --cleanup<span class="o">=</span><span class="nb">false</span>
Listing files to watch...
Generating tags...
Checking cache...
Tags used in deployment:
Starting deploy...
Loading images into kind cluster nodes...
Images loaded in 232ns
Helm release universal-crossplane not installed. Installing...
NAME: universal-crossplane
LAST DEPLOYED: ...
NAMESPACE: upbound-system
STATUS: deployed
REVISION: <span class="m">1</span>
TEST SUITE: None
 ...
Waiting <span class="k">for</span> deployments to stabilize...
 - upbound-system:deployment/xgql is ready. <span class="o">[</span>3/4 deployment<span class="o">(</span>s<span class="o">)</span> still pending<span class="o">]</span>
 - upbound-system:deployment/crossplane is ready. <span class="o">[</span>2/4 deployment<span class="o">(</span>s<span class="o">)</span> still pending<span class="o">]</span>
 - upbound-system:deployment/crossplane-rbac-manager is ready. <span class="o">[</span>1/4 deployment<span class="o">(</span>s<span class="o">)</span> still pending<span class="o">]</span>
 - upbound-system:deployment/upbound-bootstrapper is ready.
Deployments stabilized in 2.61 seconds
Starting post-deploy hooks...
provider.pkg.crossplane.io/crossplane-provider-aws condition met
Completed post-deploy hooks
Waiting <span class="k">for</span> deployments to stabilize...
Deployments stabilized in 322.442326ms
Press Ctrl+C to <span class="nb">exit</span>
Watching <span class="k">for</span> changes...
</code></pre></div><p>Leave this terminal open and running <strong>skaffold dev</strong>.</p>
<h3 id="step-four-set-up-tests">Step Four: Set Up Tests</h3>
<p>Let&rsquo;s define our test cases before adding any compositions or claims.</p>
<p>Hint: This demo uses the
<a href="https://github.com/upbound/platform-ref-aws">platform-ref-aws</a> Network
resource.</p>
<p>Create the <strong>tests/compositions/compositenetwork</strong> folders and supply a test
assertion.</p>
<p><strong>tests/compositions/compositenetwork/01-assert.yaml</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nn">---</span><span class="w">
</span><span class="w"></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">ec2.aws.crossplane.io/v1beta1</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Subnet</span><span class="w">
</span><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">access</span><span class="p">:</span><span class="w"> </span><span class="l">private</span><span class="w">
</span><span class="w">    </span><span class="nt">crossplane.io/claim-name</span><span class="p">:</span><span class="w"> </span><span class="l">network</span><span class="w">
</span><span class="w">    </span><span class="nt">networks.aws.platformref.crossplane.io/network-id</span><span class="p">:</span><span class="w"> </span><span class="l">platform-ref-aws-network</span><span class="w">
</span><span class="w">    </span><span class="nt">zone</span><span class="p">:</span><span class="w"> </span><span class="l">us-west-2a</span><span class="w">
</span><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">forProvider</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l">us-west-2</span><span class="w">
</span><span class="w">    </span><span class="nt">cidrBlock</span><span class="p">:</span><span class="w"> </span><span class="m">192.168.128.0</span><span class="l">/18</span><span class="w">
</span><span class="w">    </span><span class="nt">vpcIdSelector</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">matchControllerRef</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="nt">availabilityZone</span><span class="p">:</span><span class="w"> </span><span class="l">us-west-2a</span><span class="w">
</span><span class="w"></span><span class="nn">---</span><span class="w">
</span><span class="w"></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">ec2.aws.crossplane.io/v1beta1</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Subnet</span><span class="w">
</span><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">access</span><span class="p">:</span><span class="w"> </span><span class="l">public</span><span class="w">
</span><span class="w">    </span><span class="nt">crossplane.io/claim-name</span><span class="p">:</span><span class="w"> </span><span class="l">network</span><span class="w">
</span><span class="w">    </span><span class="nt">networks.aws.platformref.crossplane.io/network-id</span><span class="p">:</span><span class="w"> </span><span class="l">platform-ref-aws-network</span><span class="w">
</span><span class="w">    </span><span class="nt">zone</span><span class="p">:</span><span class="w"> </span><span class="l">us-west-2a</span><span class="w">
</span><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">forProvider</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l">us-west-2</span><span class="w">
</span><span class="w">    </span><span class="nt">mapPublicIPOnLaunch</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="nt">cidrBlock</span><span class="p">:</span><span class="w"> </span><span class="m">192.168.0.0</span><span class="l">/18</span><span class="w">
</span><span class="w">    </span><span class="nt">vpcIdSelector</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">matchControllerRef</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="nt">availabilityZone</span><span class="p">:</span><span class="w"> </span><span class="l">us-west-2a</span><span class="w">
</span><span class="w"></span><span class="nn">---</span><span class="w">
</span><span class="w"></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">ec2.aws.crossplane.io/v1beta1</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">VPC</span><span class="w">
</span><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">crossplane.io/claim-name</span><span class="p">:</span><span class="w"> </span><span class="l">network</span><span class="w">
</span><span class="w">    </span><span class="nt">networks.aws.platformref.crossplane.io/network-id</span><span class="p">:</span><span class="w"> </span><span class="l">platform-ref-aws-network</span><span class="w">
</span><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">deletionPolicy</span><span class="p">:</span><span class="w"> </span><span class="l">Delete</span><span class="w">
</span><span class="w">  </span><span class="nt">forProvider</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l">us-west-2</span><span class="w">
</span><span class="w">    </span><span class="nt">cidrBlock</span><span class="p">:</span><span class="w"> </span><span class="m">192.168.0.0</span><span class="l">/16</span><span class="w">
</span><span class="w">    </span><span class="nt">enableDnsSupport</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="nt">enableDnsHostNames</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="nt">tags</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l">crossplane-kind</span><span class="w">
</span><span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">vpc.ec2.aws.crossplane.io</span><span class="w">
</span><span class="w">      </span>- <span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l">crossplane-name</span><span class="w">
</span><span class="w">      </span>- <span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l">crossplane-providerconfig</span><span class="w">
</span></code></pre></div><p>Next, add a kuttl <strong>TestStep</strong> to install the resource.</p>
<p><strong>tests/compositions/compositenetwork/01-network.yaml</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">kuttl.dev/v1beta1</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">TestStep</span><span class="w">
</span><span class="w"></span><span class="nt">commands</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="c"># Wait for XRD to become &#34;established&#34;</span><span class="w">
</span><span class="w">  </span>- <span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l">kubectl wait --for condition=established --timeout=20s xrd/compositenetworks.aws.platformref.crossplane.io</span><span class="w">
</span><span class="w">  </span><span class="c"># Create the XR/Claim</span><span class="w">
</span><span class="w">  </span>- <span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l">kubectl apply -f &#34;${PWD}/examples/network.yaml&#34;</span><span class="w">
</span></code></pre></div><p>And you&rsquo;ll need to setup a kuttl <strong>TestSuite</strong> file. Ensure that <strong>startKind</strong>
and <strong>skipClusterDelete</strong> are set to their proper values. Note, too, that
<strong>kindContext</strong> must match the name of your kind cluster.</p>
<p><strong>kuttl-test.yaml</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">kuttl.dev/v1beta1</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">TestSuite</span><span class="w">
</span><span class="w"></span><span class="nt">startKIND</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w"></span><span class="nt">testDirs</span><span class="p">:</span><span class="w">
</span><span class="w"></span>- <span class="l">tests/compositions</span><span class="w">
</span><span class="w"></span><span class="nt">kindContext</span><span class="p">:</span><span class="w"> </span><span class="l">kuttl-test</span><span class="w">
</span><span class="w"></span><span class="nt">skipClusterDelete</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></code></pre></div><p>Before we can add this test to our pipeline, we need to configure the XRD and
example.</p>
<h3 id="step-five-add-composite-resources-to-the-control-plane">Step Five: Add Composite Resources to the Control Plane</h3>
<p>We&rsquo;ve sourced these Composite Resources from the
<a href="https://github.com/upbound/platform-ref-aws">platform-ref-aws</a> package on
github. Because we are demonstrating local development, we&rsquo;ll save files to disk
rather than installing from the web.</p>
<p>Create folders for <strong>examples</strong> and <strong>packages/network</strong>. Then download files from the <strong>platform-ref-aws</strong> repo.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">curl https://raw.githubusercontent.com/upbound/platform-ref-aws/main/examples/network.yaml -o examples/network.yaml -s
curl https://raw.githubusercontent.com/upbound/platform-ref-aws/main/network/definition.yaml -o package/network/definition.yaml -s
curl https://raw.githubusercontent.com/upbound/platform-ref-aws/main/network/composition.yaml -o package/network/composition.yaml -s
</code></pre></div><h4 id="deploy-kubernetes-manifests-with-skaffold">Deploy Kubernetes Manifests with Skaffold</h4>
<p>Earlier we mentioned that Skaffold does not support inserting hooks between helm
releases. But Skaffold <em>does</em> allow multiple deployment methods, including
applying static kubernetes manifests. We are going to take advantage of this
feature to apply our XRD and Compositions after the post-deploy hook for
crossplane has completed.</p>
<p>This will only apply kubernetes manifests and cannot be used to run kubectl
plugins.</p>
<p>Add a <strong>kubectl</strong> block to your configuration and add the XRD and Compositions.</p>
<p><strong>skaffold.yaml</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">skaffold/v2beta24</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Config</span><span class="w">
</span><span class="w"></span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">helm</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">hooks</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">after</span><span class="p">:</span><span class="w">
</span><span class="w">        </span>- <span class="nt">host</span><span class="p">:</span><span class="w">
</span><span class="w">            </span><span class="nt">command</span><span class="p">:</span><span class="w">
</span><span class="w">              </span><span class="p">[</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;sh&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;-c&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;kubectl wait --for condition=healthy --timeout=300s provider/crossplane-provider-aws&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">              </span><span class="p">]</span><span class="w">
</span><span class="w">    </span><span class="nt">releases</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">universal-crossplane</span><span class="w">
</span><span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l">https://charts.upbound.io/stable/</span><span class="w">
</span><span class="w">        </span><span class="nt">remoteChart</span><span class="p">:</span><span class="w"> </span><span class="l">universal-crossplane</span><span class="w">
</span><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">upbound-system</span><span class="w">
</span><span class="w">        </span><span class="nt">createNamespace</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">        </span><span class="nt">valuesFiles</span><span class="p">:</span><span class="w">
</span><span class="w">          </span>- <span class="l">tests/uxp-values.yaml</span><span class="w">
</span><span class="w">        </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="m">1.5.1</span>-<span class="l">up.1</span><span class="w">
</span><span class="w">        </span><span class="nt">wait</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="nt">kubectl</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">manifests</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">package/network/definition.yaml</span><span class="w">
</span><span class="w">      </span>- <span class="l">package/network/composition.yaml</span><span class="w">
</span></code></pre></div><p>Once you&rsquo;ve saved these entries to your file, you should notice <strong>skaffold dev</strong>
picking them up and applying them.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">Listing files to watch...
Generating tags...
Checking cache...
Tags used in deployment:
Starting deploy...
Loading images into kind cluster nodes...
Images loaded in 224ns
Waiting <span class="k">for</span> deployments to stabilize...
 - upbound-system:deployment/xgql is ready. <span class="o">[</span>3/4 deployment<span class="o">(</span>s<span class="o">)</span> still pending<span class="o">]</span>
 - upbound-system:deployment/crossplane is ready. <span class="o">[</span>2/4 deployment<span class="o">(</span>s<span class="o">)</span> still pending<span class="o">]</span>
 - upbound-system:deployment/upbound-bootstrapper is ready. <span class="o">[</span>1/4 deployment<span class="o">(</span>s<span class="o">)</span> still pending<span class="o">]</span>
 - upbound-system:deployment/crossplane-rbac-manager is ready.
Deployments stabilized in 17.76 seconds
Starting post-deploy hooks...
provider.pkg.crossplane.io/crossplane-provider-aws condition met
Completed post-deploy hooks
Loading images into kind cluster nodes...
Images loaded in 278ns
 - compositeresourcedefinition.apiextensions.crossplane.io/compositenetworks.aws.platformref.crossplane.io created
 - composition.apiextensions.crossplane.io/compositenetworks.aws.platformref.crossplane.io created
Waiting <span class="k">for</span> deployments to stabilize...
Deployments stabilized in 151.939351ms
Press Ctrl+C to <span class="nb">exit</span>
Watching <span class="k">for</span> changes...
</code></pre></div><p>It will do this every time you change
<strong>skaffold.yaml</strong> or any file referenced by <strong>skaffold.yaml</strong>.</p>
<h3 id="step-six-add-tests-to-skaffold-pipeline">Step Six: Add Tests to Skaffold Pipeline</h3>
<p>Now that our XRD is established and offered, we can add our kuttl test step.</p>
<p>The same pre- and post-deploy <strong>hooks</strong> we used on helm are available for
kubectl. So we add a post-deploy hook for our resources.</p>
<p><strong>skaffold.yaml</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">skaffold/v2beta24</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Config</span><span class="w">
</span><span class="w"></span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">helm</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">hooks</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">after</span><span class="p">:</span><span class="w">
</span><span class="w">        </span>- <span class="nt">host</span><span class="p">:</span><span class="w">
</span><span class="w">            </span><span class="nt">command</span><span class="p">:</span><span class="w">
</span><span class="w">              </span><span class="p">[</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;sh&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;-c&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;kubectl wait --for condition=healthy --timeout=300s provider/crossplane-provider-aws&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">              </span><span class="p">]</span><span class="w">
</span><span class="w">    </span><span class="nt">releases</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">universal-crossplane</span><span class="w">
</span><span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l">https://charts.upbound.io/stable/</span><span class="w">
</span><span class="w">        </span><span class="nt">remoteChart</span><span class="p">:</span><span class="w"> </span><span class="l">universal-crossplane</span><span class="w">
</span><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">upbound-system</span><span class="w">
</span><span class="w">        </span><span class="nt">createNamespace</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">        </span><span class="nt">valuesFiles</span><span class="p">:</span><span class="w">
</span><span class="w">          </span>- <span class="l">tests/uxp-values.yaml</span><span class="w">
</span><span class="w">        </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="m">1.5.1</span>-<span class="l">up.1</span><span class="w">
</span><span class="w">        </span><span class="nt">wait</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="nt">kubectl</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">hooks</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">after</span><span class="p">:</span><span class="w">
</span><span class="w">        </span>- <span class="nt">host</span><span class="p">:</span><span class="w">
</span><span class="w">            </span><span class="nt">command</span><span class="p">:</span><span class="w">
</span><span class="w">              </span><span class="p">[</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;sh&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;-c&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;kubectl kuttl test --test ./tests/compositions/compositenetwork/; exit 0&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">              </span><span class="p">]</span><span class="w">
</span><span class="w">    </span><span class="nt">manifests</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">package/network/definition.yaml</span><span class="w">
</span><span class="w">      </span>- <span class="l">package/network/composition.yaml</span><span class="w">
</span></code></pre></div><p>We&rsquo;ve added &lsquo;; exit 0&rsquo; to the end of our command. We want to stop
the test from exiting with its normal error code, as this will cause skaffold to
completely stop the dev loop.</p>
<h4 id="success">Success!!</h4>
<p>You will get a successful test run.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">...
--- PASS: kuttl <span class="o">(</span>19.66s<span class="o">)</span>
    --- PASS: kuttl/harness <span class="o">(</span>0.00s<span class="o">)</span>
        --- PASS: kuttl/harness/compositenetwork <span class="o">(</span>12.11s<span class="o">)</span>
PASS
Completed post-deploy hooks
Waiting <span class="k">for</span> deployments to stabilize...
Deployments stabilized in 351.199244ms
Press Ctrl+C to <span class="nb">exit</span>
Watching <span class="k">for</span> changes...
</code></pre></div><p>But there&rsquo;s one more catch.</p>
<h4 id="including-the-composed-resource">Including the Composed Resource</h4>
<p>We are applying our <strong>examples/network.yaml</strong> file from the kuttl <strong>TestStep</strong>.
This means Skaffold is unaware of the file and not watching it for changes. (Go
ahead and edit the file, watch skaffold do nothing.)</p>
<p>To get Skaffold to update on changes to our example, we must add it to the list
of manifests.</p>
<p><strong>skaffold.yaml</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">skaffold/v2beta24</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Config</span><span class="w">
</span><span class="w"></span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">helm</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">hooks</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">after</span><span class="p">:</span><span class="w">
</span><span class="w">        </span>- <span class="nt">host</span><span class="p">:</span><span class="w">
</span><span class="w">            </span><span class="nt">command</span><span class="p">:</span><span class="w">
</span><span class="w">              </span><span class="p">[</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;sh&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;-c&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;kubectl wait --for condition=healthy --timeout=300s provider/crossplane-provider-aws&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">              </span><span class="p">]</span><span class="w">
</span><span class="w">    </span><span class="nt">releases</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">universal-crossplane</span><span class="w">
</span><span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l">https://charts.upbound.io/stable/</span><span class="w">
</span><span class="w">        </span><span class="nt">remoteChart</span><span class="p">:</span><span class="w"> </span><span class="l">universal-crossplane</span><span class="w">
</span><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">upbound-system</span><span class="w">
</span><span class="w">        </span><span class="nt">createNamespace</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">        </span><span class="nt">valuesFiles</span><span class="p">:</span><span class="w">
</span><span class="w">          </span>- <span class="l">tests/uxp-values.yaml</span><span class="w">
</span><span class="w">        </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="m">1.5.1</span>-<span class="l">up.1</span><span class="w">
</span><span class="w">        </span><span class="nt">wait</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="nt">kubectl</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">hooks</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">after</span><span class="p">:</span><span class="w">
</span><span class="w">        </span>- <span class="nt">host</span><span class="p">:</span><span class="w">
</span><span class="w">            </span><span class="nt">command</span><span class="p">:</span><span class="w">
</span><span class="w">              </span><span class="p">[</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;sh&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;-c&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;kubectl kuttl test --test ./tests/compositions/compositenetwork/; exit 0&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">              </span><span class="p">]</span><span class="w">
</span><span class="w">    </span><span class="nt">manifests</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">package/network/definition.yaml</span><span class="w">
</span><span class="w">      </span>- <span class="l">package/network/composition.yaml</span><span class="w">
</span><span class="w">      </span>- <span class="l">examples/network.yaml</span><span class="w">
</span></code></pre></div><p>Be warned: This configuration will fail on a first run because the network
resource will not be offered when skaffold applies the example.</p>
<p>To deal with this, we comment out the example when committing to the repo. Only
after <strong>skaffold dev</strong> is running and the resource is healthy do we un-comment
it.</p>
<h2 id="the-finished-product">The Finished Product</h2>
<p>In the end, our folder structure for a configuration package including skaffold
dev environment will look like the following:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">.
‚îú‚îÄ‚îÄ examples <span class="c1"># CompositeResource examples</span>
‚îÇ   ‚îî‚îÄ‚îÄ network.yaml
‚îú‚îÄ‚îÄ kuttl-test.yaml <span class="c1"># TestSuite configuration</span>
‚îú‚îÄ‚îÄ package <span class="c1"># XRDs and Composites</span>
‚îÇ   ‚îú‚îÄ‚îÄ crossplane.yaml <span class="c1"># Configuration Package metadata file</span>
‚îÇ   ‚îî‚îÄ‚îÄ network
‚îÇ       ‚îú‚îÄ‚îÄ composition.yaml
‚îÇ       ‚îî‚îÄ‚îÄ definition.yaml
‚îú‚îÄ‚îÄ skaffold.yaml <span class="c1"># Skaffold Configuration File</span>
‚îî‚îÄ‚îÄ tests <span class="c1"># TestSteps</span>
    ‚îú‚îÄ‚îÄ compositions
    ‚îÇ   ‚îî‚îÄ‚îÄ compositenetwork
    ‚îÇ       ‚îú‚îÄ‚îÄ 01-assert.yaml
    ‚îÇ       ‚îî‚îÄ‚îÄ 01-network.yaml
    ‚îî‚îÄ‚îÄ uxp-values.yaml <span class="c1"># Values for Universal-Crossplane</span>
</code></pre></div><p>And this is the complete <strong>skaffold.yaml</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">skaffold/v2beta24</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Config</span><span class="w">
</span><span class="w"></span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">helm</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">hooks</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">after</span><span class="p">:</span><span class="w">
</span><span class="w">        </span>- <span class="nt">host</span><span class="p">:</span><span class="w">
</span><span class="w">            </span><span class="nt">command</span><span class="p">:</span><span class="w">
</span><span class="w">              </span><span class="p">[</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;sh&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;-c&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;kubectl wait --for condition=healthy --timeout=300s provider/crossplane-provider-aws&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">              </span><span class="p">]</span><span class="w">
</span><span class="w">    </span><span class="nt">releases</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">universal-crossplane</span><span class="w">
</span><span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l">https://charts.upbound.io/stable/</span><span class="w">
</span><span class="w">        </span><span class="nt">remoteChart</span><span class="p">:</span><span class="w"> </span><span class="l">universal-crossplane</span><span class="w">
</span><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">upbound-system</span><span class="w">
</span><span class="w">        </span><span class="nt">createNamespace</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">        </span><span class="nt">valuesFiles</span><span class="p">:</span><span class="w">
</span><span class="w">          </span>- <span class="l">tests/uxp-values.yaml</span><span class="w">
</span><span class="w">        </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="m">1.5.1</span>-<span class="l">up.1</span><span class="w">
</span><span class="w">        </span><span class="nt">wait</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="nt">kubectl</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">hooks</span><span class="p">:</span><span class="w">
</span><span class="w">      </span><span class="nt">after</span><span class="p">:</span><span class="w">
</span><span class="w">        </span>- <span class="nt">host</span><span class="p">:</span><span class="w">
</span><span class="w">            </span><span class="nt">command</span><span class="p">:</span><span class="w">
</span><span class="w">              </span><span class="p">[</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;sh&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;-c&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">                </span><span class="s2">&#34;kubectl kuttl test --test ./tests/compositions/compositenetwork/; exit 0&#34;</span><span class="p">,</span><span class="w">
</span><span class="w">              </span><span class="p">]</span><span class="w">
</span><span class="w">    </span><span class="nt">manifests</span><span class="p">:</span><span class="w">
</span><span class="w">      </span>- <span class="l">package/network/definition.yaml</span><span class="w">
</span><span class="w">      </span>- <span class="l">package/network/composition.yaml</span><span class="w">
</span><span class="w">      </span><span class="c"># This file can only be un-commented once the XRD is healthy in the Control Plane</span><span class="w">
</span><span class="w">      </span><span class="c"># - examples/network.yaml</span><span class="w">
</span></code></pre></div><h2 id="useful-links">Useful Links</h2>
<ul>
<li><a href="https://skaffold.dev/docs/references/yaml/">skaffold.yaml configuration reference</a></li>
<li><a href="https://skaffold.dev/docs/references/cli/">skaffold cli reference</a></li>
<li><a href="https://crossplane.io/docs/v1.6/concepts/terminology.html#crossplane-terms">Crossplane Terminology</a></li>
</ul>

</div>

    <div class="footer">
  
  <div class="footer-social">
    
      <span class="social-icon social-icon-twitter">
        <a href="https://twitter.com/aaron_eaton" title="twitter" target="_blank" rel="noopener">
          <img src="/images/social/twitter.svg" width="24" height="24" alt="twitter"/>
        </a>
      </span>
    
      <span class="social-icon social-icon-github">
        <a href="https://github.com/AaronMe" title="github" target="_blank" rel="noopener">
          <img src="/images/social/github.svg" width="24" height="24" alt="github"/>
        </a>
      </span>
    
      <span class="social-icon social-icon-linkedin">
        <a href="https://www.linkedin.com/in/aaron-eaton-2018/" title="linkedin" target="_blank" rel="noopener">
          <img src="/images/social/linkedin.svg" width="24" height="24" alt="linkedin"/>
        </a>
      </span>
    
  </div>
  
  <div class="footer-copyright">
    <span class="copy">Copyright &copy; 2022 Aaron Eaton.</span>
  </div>
</div>
  </div>

  

  

  
  <script type="text/javascript" src="/js/bundle.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.js"></script>
  

  
  

  
  
  
    
      
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-B4RD5175XG"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-B4RD5175XG');
      </script>
    
  


</body>
</html>